<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Daily Ranker</title>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body { font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif; }
    .app { min-height: 100vh; background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%); padding: 16px; }
    .container { max-width: 896px; margin: 0 auto; }
    .header { text-align: center; margin-bottom: 32px; padding-top: 32px; }
    .header h1 { font-size: 48px; font-weight: bold; color: white; margin-bottom: 8px; }
    .header p { color: #e9d5ff; font-size: 18px; }
    .card { background: white; border-radius: 16px; box-shadow: 0 25px 50px -12px rgba(0,0,0,0.25); padding: 32px; margin-bottom: 24px; }
    .object-header { text-align: center; margin-bottom: 32px; }
    .emoji { font-size: 60px; margin-bottom: 16px; }
    .object-name { font-size: 36px; font-weight: bold; color: #9333ea; margin-bottom: 8px; }
    .date { color: #6b7280; }
    .category { margin-bottom: 24px; }
    .category-label { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
    .category-name { font-size: 18px; font-weight: 600; color: #374151; }
    .category-value { font-size: 24px; font-weight: bold; color: #9333ea; }
    .slider { width: 100%; height: 12px; border-radius: 8px; outline: none; -webkit-appearance: none; cursor: pointer; }
    .slider::-webkit-slider-thumb { -webkit-appearance: none; width: 24px; height: 24px; border-radius: 50%; background: #9333ea; cursor: pointer; }
    .slider::-moz-range-thumb { width: 24px; height: 24px; border-radius: 50%; background: #9333ea; cursor: pointer; border: none; }
    .scale { display: flex; justify-content: space-between; font-size: 12px; color: #6b7280; margin-top: 4px; }
    .comment-label { font-size: 18px; font-weight: 600; color: #374151; margin-bottom: 12px; display: block; }
    textarea { width: 100%; padding: 16px; border: 2px solid #e5e7eb; border-radius: 8px; resize: none; font-family: inherit; font-size: 14px; }
    textarea:focus { outline: none; border-color: #9333ea; }
    .submit-btn { width: 100%; padding: 16px; background: linear-gradient(90deg, #a855f7 0%, #ec4899 100%); color: white; font-size: 18px; font-weight: bold; border-radius: 8px; border: none; cursor: pointer; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.1); }
    .submit-btn:disabled { opacity: 0.5; cursor: not-allowed; background: #9ca3af; }
    .voted { text-align: center; padding: 32px 0; }
    .voted .emoji { font-size: 60px; margin-bottom: 16px; }
    .voted-title { font-size: 20px; font-weight: 600; color: #374151; }
    .voted-subtitle { color: #6b7280; margin-top: 8px; }
    .rankings-title { font-size: 24px; font-weight: bold; color: #1f2937; margin-bottom: 24px; }
    .ranking-item { display: flex; align-items: center; gap: 16px; padding: 16px; background: linear-gradient(90deg, #faf5ff 0%, #fce7f3 100%); border-radius: 8px; margin-bottom: 12px; }
    .rank { font-size: 24px; font-weight: bold; min-width: 50px; }
    .rank-1 { color: #eab308; }
    .rank-2 { color: #9ca3af; }
    .rank-3 { color: #ea580c; }
    .rank-other { color: #6b7280; }
    .item-info { flex: 1; }
    .item-name { font-weight: bold; font-size: 18px; color: #1f2937; }
    .item-meta { font-size: 14px; color: #6b7280; margin-top: 2px; }
    .score { font-size: 24px; font-weight: bold; color: #9333ea; }
    .loading { min-height: 100vh; background: linear-gradient(135deg, #a855f7 0%, #ec4899 100%); display: flex; align-items: center; justify-content: center; color: white; font-size: 24px; }
    .empty { text-align: center; color: #6b7280; padding: 32px 0; }
  </style>
</head>
<body>
  <div id="root"></div>
  
  <script>
    const { useState, useEffect, createElement: e } = React;
    
    const FIREBASE_CONFIG = {
      apiKey: "AIzaSyDOz_C363nVZWo-Va5fSrC5IEOhm10eTyM",
      authDomain: "rankedbyratings.firebaseapp.com",
      databaseURL: "https://rankedbyratings-default-rtdb.firebaseio.com",
      projectId: "rankedbyratings",
      storageBucket: "rankedbyratings.firebasestorage.app",
      messagingSenderId: "1038168946432",
      appId: "1:1038168946432:web:0535ae3f1ff7e83dee65e5"
    };
    
    const CATEGORIES = ['Utility', 'Aesthetic', 'Cultural Impact', 'Versatility', 'Sustainability'];
    
    // Embedded list of common English nouns - filter out abstract/uncommon ones
    const NOUNS = ["time","year","way","day","thing","child","work","life","woman","system","case","part","group","number","world","house","area","company","problem","place","hand","party","school","country","point","week","member","end","word","family","fact","head","month","side","business","night","eye","home","question","power","change","money","book","water","form","room","level","car","market","result","idea","study","job","body","report","line","face","road","door","hour","office","war","mother","person","reason","view","term","period","figure","city","community","type","subject","girl","moment","age","father","order","value","matter","health","decision","street","patient","class","mind","church","paper","bank","century","table","building","sense","team","experience","student","language","town","plan","morning","product","ground","letter","meeting","foot","boy","game","food","role","event","art","stage","teacher","voice","arm","club","field","history","parent","material","care","manager","project","example","window","air","university","wife","quality","story","tax","worker","data","model","nature","structure","bed","hospital","method","detail","wall","computer","amount","bit","son","director","leader","application","board","king","secretary","chance","operation","share","contract","picture","test","security","election","source","future","site","shop","animal","evening","heart","purpose","page","doctor","factor","hair","love","music","design","piece","tree","knowledge","plant","fire","environment","garden","size","rest","success","thought","attention","list","space","statement","sea","step","choice","couple","hotel","player","station","village","film","attempt","feature","income","cup","effort","technology","machine","cell","degree","growth","treatment","lady","mile","county","function","task","top","resource","floor","science","style","college","feeling","hall","horse","response","skill","character","answer","dog","economy","investment","brother","husband","season","bill","element","glass","increase","leg","park","title","note","chairman","discussion","summer","baby","daughter","sun","box","customer","river","profit","division","stone","post","client","help","image","oil","attack","direction","seat","disease","goal","sign","ability","campaign","fish","holiday","item","pupil","show","technique","advice","drug","library","press","visit","surface","blood","culture","island","memory","television","competition","parliament","talk","access","deal","star","text","cause","mouth","payment","trouble","facility","survey","article","chair","earth","importance","object","card","collection","communication","document","sister","supply","budget","career","solution","weight","bird","damage","district","fear","opinion","requirement","rock","call","edge","exchange","option","quarter","stock","aid","concept","match","network","occasion","radio","railway","target","corner","finger","forest","race","sex","afternoon","ball","crime","employee","equipment","kitchen","message","peace","review","scale","scene","speech","sport","strategy","band","expression","failure","hill","partner","reader","shoulder","tea","marriage","owner","trust","truth","farm","file","newspaper","past","safety","sentence","trial","balance","branch","copy","league","length","nation","wind","accident","doubt","front","pain","spirit","train","strength","cash","debate","gas","museum","reform","transport","agent","artist","pair","protection","rise","candidate","driver","hope","master","meaning","queen","vote","adult","consequence","exercise","play","beginning","route","speed","credit","impact","understanding","danger","flower","path","track","video","aim","bag","belief","comment","conclusion","content","distance","gold","link","skin","boat","dad","estate","prison","reality","sight","wine","winter","debt","employer","objective","offer","vehicle","weekend","writer","battle","colleague","expert","farmer","hole","injury","package","telephone","confidence","generation","insurance","key","painting","phone","sample","conflict","drink","judge","ship","threat","visitor","volume","author","background","cabinet","engine","entry","manner","smile","stuff","victim","yard","bus","coffee","investigation","mountain","regulation","relief","row","song","wage","category","consumer","dinner","exhibition","football","interview","meal","tour","tradition","traffic","wood","appearance","bridge","construction","contrast","description","distribution","flat","gentleman","housing","improvement","session","sheet","audience","code","conversation","crisis","loan","prince","theatre","explanation","flight","freedom","limit","magazine","pension","plate","rain","respect","writing","capacity","challenge","dream","factory","finance","selection","spring","victory","youth","aircraft","decade","definition","egg","examination","intention","mark","notice","output","reduction","address","appointment","bedroom","bottom","enterprise","kid","middle","neck","tape","weapon","birth","bottle","ear","error","instruction","store","teaching","wave","channel","component","desire","grant","lead","lunch","photograph","pleasure","recognition","temperature","waste","weather","block","brain","experiment","guest","guide","household","nurse","program","screen","silence","captain","connection","cover","crowd","journey","map","metal","noise","phase","pool","scientist","search","sequence","sky","trip","violence","cat","display","gallery","gate","gun","heat","instrument","location","professor","theme","combination","drive","faith","interpretation","learning","opening","priority","spot","tool","tooth","alternative","breath","castle","coal","crown","flow","lane","literature","mistake","motion","release","revenue","variation","wing","border","incident","index","passage","pocket","ring","suggestion","valley","winner","characteristic","deputy","device","engineering","foundation","fruit","lake","leaf","pub","religion","restaurant","specialist","square","surprise","tone","walk","chain","circle","creation","fall","observation","shot","strike","atmosphere","championship","coast","desk","enemy","fashion","god","impression","leadership","marketing","mass","mechanism","neighbour","panel","revolution","tear","advance","beach","drawing","dress","engineer","establishment","fan","iron","milk","motor","nose","origin","roof","servant","shoe","soil","tank","ticket","welfare","bone","cancer","champion","chief","citizen","editor","expense","fuel","gift","height","palace","prisoner","significance","trend","vision","warning","achievement","comparison","cross","democracy","diet","knee","lawyer","lesson","living","outcome","rail","signal","breakfast","charity","column","complaint","gap","grass","manufacturer","passenger","plane","plastic","root","score","shadow","shock","territory","touch","accommodation","beauty","boundary","buyer","database","dispute","exception","identity","mirror","novel","phrase","pilot","preparation","quantity","taste","tension","thinking","coat","extension","gene","partnership","pollution","prize","stress","tower","boot","command","decline","delivery","depth","frame","framework","holder","ice","inch","poem","port","protein","rose","saving","string","wheel","approval","bishop","boss","chest","cottage","crew","cycle","export","funding","governor","hat","load","profession","protest","recommendation","restriction","stairs","travel","agriculture","autumn","average","bomb","camera","creature","critic","empire","focus","guard","habit","input","inspector","landscape","layer","poll","purchase","recession","recovery","reputation","silver","sleep","suit","trading","arrival","beer","bread","cake","drama","efficiency","electricity","illness","judgment","laboratory","meat","muscle","peak","penalty","perspective","presentation","steel","sugar","uncle","abuse","alliance","angle","bay","certificate","cloud","coach","custom","dollar","expansion","mood","personality","philosophy","possession","producer","promotion","ratio","spending","symptom","variable","zone","actor","awareness","bond","chamber","chip","cigarette","core","deposit","dozen","estimate","festival","frequency","gain","guy","honour","jacket","phenomenon","qualification","relative","rent","reply","researcher","secret","shirt","tendency","wedding","apple","breach","dance","dealer","discovery","duke","emotion","equation","furniture","instance","intelligence","investor","landlord","mixture","pipe","promise","recording","retirement","routine","substance","throat","tourist","allowance","anger","birthday","carpet","consent","cricket","curtain","curve","darkness","disaster","disk","enquiry","entrance","fight","golf","guitar","hearing","hero","infection","interaction","journal","knife","mail","medicine","mortgage","pace","paragraph","permission","platform","policeman","print","rank","reserve","sand","scope","shift","stream","tale","witness","acquisition","adviser","airport","aunt","bath","chemical","circuit","clock","consumption","cream","defeat","delay","demonstration","edition","host","human","joke","perception","priest","province","sake","salt","anxiety","compensation","consultant","fishing","formula","journalist","lecture","luck","mission","occupation","pack","percentage","poet","seed","supplier","survival","tail","tie","watch","workshop","alcohol","barrier","climate","crop","fortune","heaven","indication","measurement","mine","moon","observer","opponent","ownership","pitch","prayer","preference","smell","snow","stomach","symbol","tip","architecture","bowl","burden","cheese","confusion","dimension","dish","enthusiasm","evaluation","historian","implementation","interval","operator","princess","publisher","satisfaction","schedule","sheep","shell","storage","summary","talent","tube","wish","admission","breast","childhood","consultation","designer","determination","drop","fabric","import","label","leisure","lover","merchant","poetry","pot","proof","replacement","salary","shopping","smoke","squad","stake","steam","strain","tissue","tunnel","unity","vessel","wire","addition","amendment","announcement","bathroom","bell","brick","classroom","comfort","complex","conviction","corridor","draft","favour","grade","imagination","lift","mouse","movie","mystery","participant","profile","refugee","reward","sergeant","surgery","tongue","vegetable","acceptance","architect","assistant","belt","cathedral","ceiling","check","composition","deficit","departure","detective","excitement","gesture","joy","limitation","participation","pit","pride","register","storm","summit","transition","treasury","twin","universe","venture","weakness","album","bench","button","canal","cap","chart","clerk","coalition","coin","concert","consciousness","constraint","cow","diary","dust","expertise","fellow","glance","grammar","guardian","guideline","horror","infant","leather","margin","objection","opera","paint","passion","pole","prosecution","psychology","reception","repair","shelf","stand","stick","timber","tin","uncertainty","virtue","ward","agenda","alarm","cable","carbon","charter","chicken","closure","companion","completion","conservation","cousin","craft","disorder","dividend","evolution","flesh","format","funeral","ideology","jury","kingdom","lease","mate","nerve","ocean","patch","pen","pig","portrait","potato","printer","privilege","punishment","rabbit","reflection","rival","specimen","taxation","traveller","van","volunteer","ally","applicant","assurance","attraction","audit","blow","chocolate","commander","commissioner","conversion","depression","destruction","disc","discount","earl","emperor","essay","exposure","favourite","friendship","garage","innovation","integration","junction","lock","machinery","maker","organ","particle","pass","petrol","planet","plot","rat","registration","remedy","resignation","seller","silk","slope","strip","sympathy","terrace","vendor","wonder","allocation","ambition","bike","calculation","chapel","collapse","conception","correspondent","cotton","crash","cry","declaration","directive","disposal","dose","entertainment","excuse","fate","federation","fibre","flame","grain","harm","humour","hypothesis","identification","incentive","inspection","interface","invitation","logic","mayor","mineral","molecule","mortality","needle","pile","resort","roll","rubbish","shade","stimulus","stranger","suspicion","trick","voter","withdrawal","youngster","accountant","advertisement","angel","arrest","ceremony","cinema","clinic","cloth","competitor","complexity","coverage","daddy","dictionary","disability","domain","equity","equivalent","explosion","fence","fragment","guarantee","insight","interior","isle","kit","lamp","leave","pond","processor","removal","rope","satellite","server","stability","statute","taxi","tide","adjustment","allegation","anniversary","banking","battery","bible","brand","bulk","butter","celebration","clothing","colony","controversy","crystal","delight","desert","emission","episode","escape","fiction","fighting","fleet","gaze","gear","grip","hardware","illustration","insect","invasion","jurisdiction","lion","merger","mess","minimum","monopoly","motive","myth","navy","necessity","nursery","photo","piano","raid","rebel","rhythm","shortage","specification","switch","temple","therapy","tournament","toy","transformation","tribunal","trustee","villa","wound","abbey","adventure","airline","attendance","businessman","champagne","cliff","clue","colonel","compound","counter","creditor","devil","disadvantage","discrimination","dock","doctrine","essence","filter","flag","flexibility","fraction","gang","gender","ghost","harbour","heel","heritage","hierarchy","hint","indicator","landing","launch","leaflet","lorry","loyalty","menu","mud","nail","outline","painter","pensioner","pope","productivity","proposition","receiver","refusal","restoration","ride","rumour","shore","singer","skirt","sociology","spectrum","successor","testing","theft","toilet","tragedy","triumph","uniform","verse","virus","warmth","widow","accent","analyst","apartment","appendix","availability","avenue","breed","builder","bureau","capitalism","carrier","classification","collector","compromise","continent","copper","crack","cupboard","defender","delegate","density","developer","diagnosis","dialogue","directory","discretion","doorway","duck","duration","envelope","fantasy","fluid","fool","forum","fraud","graduate","grave","heading","hip","installation","isolation","juice","justification","killer","kiss","laugh","liberty","lifetime","merit","midnight","missile","modification","musician","norm","oak","offender","oxygen","palm","pet","portfolio","premium","probability","receipt","recipe","reporter","residence","rod","sandwich","sculpture","seminar","sensation","separation","shame","shower","sin","speculation","stance","stroke","succession","suicide","sword","trace","truck","whisky","worry","ambulance","assignment","auditor","autonomy","basket","bean","bear","bonus","capability","clash","commonwealth","concession","correlation","coup","delegation","diagram","divorce","eagle","easter","entity","finish","glory","guilt","holding","horizon","hunting","incidence","ingredient","inn","instinct","jet","liberation","lung","motivation","nest","nightmare","organism","packet","panic","pause","pavement","pity","pregnancy","radiation","redundancy","reign","riot","scandal","scholar","spell","sphere","spread","subsidiary","subsidy","swimming","tactic","teenager","thesis","timing","trader","trainer","tray","tune","tutor","wool","accuracy","archbishop","beam","blade","blanket","boom","bronze","brush","bush","cab","casualty","clay","constituent","contest","counterpart","deck","diamond","disappointment","dismissal","engagement","exclusion","execution"];

    function DailyRanker() {
      const [currentObject, setCurrentObject] = useState('');
      const [ratings, setRatings] = useState({});
      const [comment, setComment] = useState('');
      const [hasVotedToday, setHasVotedToday] = useState(false);
      const [allRankings, setAllRankings] = useState([]);
      const [loading, setLoading] = useState(true);
      const [userId, setUserId] = useState('');

      const getTodayKey = () => {
        const today = new Date();
        return today.getFullYear() + '-' + (today.getMonth() + 1) + '-' + today.getDate();
      };

      const getUserId = () => {
        let id = localStorage.getItem('dailyRankerUserId');
        if (!id) {
          id = 'user_' + Math.random().toString(36).substr(2, 9) + Date.now();
          localStorage.setItem('dailyRankerUserId', id);
        }
        return id;
      };

      useEffect(() => {
        setUserId(getUserId());
        initializeFirebase();
      }, []);

      const initializeFirebase = async () => {
        try {
          if (firebase.apps.length === 0) {
            firebase.initializeApp(FIREBASE_CONFIG);
          }
          loadData();
        } catch (error) {
          console.error('Firebase error:', error);
          setLoading(false);
        }
      };

      const generateDailyObject = async (dateKey) => {
        try {
          const db = firebase.database();
          const todayObjectRef = db.ref('dailyObjects/' + dateKey);
          const snapshot = await todayObjectRef.once('value');
          
          if (snapshot.exists()) {
            return snapshot.val().noun;
          }
          
          // Pick a random noun using the date as seed for consistency
          const hash = dateKey.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
          const randomIndex = hash % NOUNS.length;
          let noun = NOUNS[randomIndex];
          
          // Capitalize first letter
          noun = noun.charAt(0).toUpperCase() + noun.slice(1);
          
          await todayObjectRef.set({ noun: noun, date: dateKey, timestamp: Date.now() });
          return noun;
        } catch (error) {
          console.error('Error:', error);
          // Fallback
          const hash = dateKey.split('').reduce((acc, char) => acc + char.charCodeAt(0), 0);
          return NOUNS[hash % NOUNS.length];
        }
      };

      const loadData = async () => {
        setLoading(true);
        const todayKey = getTodayKey();
        const objectForToday = await generateDailyObject(todayKey);
        setCurrentObject(objectForToday);

        try {
          const db = firebase.database();
          const userIdTemp = getUserId();
          const voteSnapshot = await db.ref('userVotes/' + userIdTemp + '/' + todayKey).once('value');
          setHasVotedToday(voteSnapshot.exists());

          const rankingsSnapshot = await db.ref('rankings').once('value');
          const rankingsData = rankingsSnapshot.val();
          
          if (rankingsData) {
            const rankingsArray = Object.values(rankingsData).sort((a, b) => b.avgRating - a.avgRating);
            setAllRankings(rankingsArray);
          }
        } catch (error) {
          console.error('Error:', error);
        }
        setLoading(false);
      };

      const handleRatingChange = (category, value) => {
        setRatings(prev => Object.assign({}, prev, { [category]: value }));
      };

      const handleSubmit = async () => {
        if (Object.keys(ratings).length !== CATEGORIES.length) {
          alert('Please rate all categories!');
          return;
        }

        const todayKey = getTodayKey();
        
        try {
          const db = firebase.database();
          const objectRef = db.ref('objects/' + currentObject);
          const objectSnapshot = await objectRef.once('value');
          
          let objectData = objectSnapshot.val() || {
            name: currentObject, date: todayKey, totalVotes: 0, categoryTotals: {}
          };

          const voteId = db.ref().child('votes').push().key;
          await db.ref('votes/' + currentObject + '/' + voteId).set({
            userId: userId, ratings: ratings, comment: comment.trim(), timestamp: Date.now()
          });

          objectData.totalVotes += 1;
          CATEGORIES.forEach(cat => {
            if (!objectData.categoryTotals[cat]) objectData.categoryTotals[cat] = 0;
            objectData.categoryTotals[cat] += ratings[cat];
          });

          const overallTotal = Object.values(objectData.categoryTotals).reduce((a, b) => a + b, 0);
          const avgRating = overallTotal / (CATEGORIES.length * objectData.totalVotes);
          objectData.avgRating = avgRating;

          await objectRef.set(objectData);
          await db.ref('rankings/' + currentObject).set({
            name: currentObject, date: todayKey, avgRating: avgRating, totalVotes: objectData.totalVotes
          });

          await db.ref('userVotes/' + userId + '/' + todayKey).set(true);
          await loadData();
          
          setRatings({});
          setComment('');
        } catch (error) {
          console.error('Error:', error);
          alert('Error saving vote!');
        }
      };

      if (loading) {
        return e('div', { className: 'loading' }, 'Loading...');
      }

      return e('div', { className: 'app' },
        e('div', { className: 'container' }, [
          e('div', { key: 'header', className: 'header' }, [
            e('h1', { key: 'title' }, 'Daily Ranker'),
            e('p', { key: 'subtitle' }, 'Rate today\'s random object with the community')
          ]),
          
          e('div', { key: 'voting', className: 'card' }, [
            e('div', { key: 'object-header', className: 'object-header' }, [
              e('div', { key: 'emoji', className: 'emoji' }, 'ðŸ“¦'),
              e('h3', { key: 'name', className: 'object-name' }, currentObject),
              e('p', { key: 'date', className: 'date' }, getTodayKey())
            ]),
            
            !hasVotedToday ? e('div', { key: 'form' }, [
              e('div', { key: 'categories' },
                CATEGORIES.map((category, idx) => 
                  e('div', { key: category, className: 'category' }, [
                    e('div', { key: 'label', className: 'category-label' }, [
                      e('span', { key: 'name', className: 'category-name' }, category),
                      e('span', { key: 'value', className: 'category-value' }, ratings[category] || 0)
                    ]),
                    e('input', {
                      key: 'slider',
                      type: 'range',
                      min: 0,
                      max: 100,
                      value: ratings[category] || 0,
                      onChange: (ev) => handleRatingChange(category, parseInt(ev.target.value)),
                      className: 'slider',
                      style: { background: 'linear-gradient(to right, #a855f7 0%, #a855f7 ' + (ratings[category] || 0) + '%, #e5e7eb ' + (ratings[category] || 0) + '%, #e5e7eb 100%)' }
                    }),
                    e('div', { key: 'scale', className: 'scale' }, [
                      e('span', { key: '0' }, '0'),
                      e('span', { key: '50' }, '50'),
                      e('span', { key: '100' }, '100')
                    ])
                  ])
                )
              ),
              e('label', { key: 'comment-label', className: 'comment-label' }, 'Comment (Optional)'),
              e('textarea', {
                key: 'comment',
                value: comment,
                onChange: (ev) => setComment(ev.target.value),
                placeholder: 'Share your thoughts...',
                rows: 3
              }),
              e('button', {
                key: 'submit',
                onClick: handleSubmit,
                disabled: Object.keys(ratings).length !== CATEGORIES.length,
                className: 'submit-btn',
                style: { marginTop: '24px' }
              }, 'Submit Ratings')
            ]) : e('div', { key: 'voted', className: 'voted' }, [
              e('div', { key: 'emoji', className: 'emoji' }, 'âœ…'),
              e('p', { key: 'title', className: 'voted-title' }, 'You\'ve voted today!'),
              e('p', { key: 'subtitle', className: 'voted-subtitle' }, 'Come back tomorrow for a new object')
            ])
          ]),
          
          e('div', { key: 'rankings', className: 'card' }, [
            e('h2', { key: 'title', className: 'rankings-title' }, 'All-Time Rankings'),
            allRankings.length === 0 ? 
              e('p', { key: 'empty', className: 'empty' }, 'No rankings yet. Be the first to vote!') :
              e('div', { key: 'list' },
                allRankings.map((item, index) =>
                  e('div', { key: item.name, className: 'ranking-item' }, [
                    e('div', { 
                      key: 'rank',
                      className: 'rank ' + (index === 0 ? 'rank-1' : index === 1 ? 'rank-2' : index === 2 ? 'rank-3' : 'rank-other')
                    }, '#' + (index + 1)),
                    e('div', { key: 'info', className: 'item-info' }, [
                      e('div', { key: 'name', className: 'item-name' }, item.name),
                      e('div', { key: 'meta', className: 'item-meta' }, item.totalVotes + ' votes â€¢ ' + item.date)
                    ]),
                    e('span', { key: 'score', className: 'score' }, item.avgRating.toFixed(1))
                  ])
                )
              )
          ])
        ])
      );
    }

    ReactDOM.render(e(DailyRanker), document.getElementById('root'));
  </script>
</body>
</html>
